
<nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select a person">
  <nz-option nzLabel="Jack" nzValue="jack"></nz-option>
  <nz-option nzLabel="Lucy" nzValue="lucy"></nz-option>
  <nz-option nzLabel="Tom" nzValue="tom"></nz-option>
</nz-select>
<div class="header">
  @if (update) {<button nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
      <img class="w100 h100 img" [src]="project.url">
</div>

<div nz-row class="container_des" [nzGutter]="[50, 50]">
 <div nz-col nzLg="12" nzMd="24" nzSm="24" nzXs="24">
  @if (update) {<button (click)="edit(project,'name')" nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
    <div class="container_text">
        <div class="project_name">{{project.name}}</div>
    </div>
 </div>
 <div nz-col nzLg="3" nzMd="12" nzSm="24" nzXs="24">
  @if (update) {<button (click)="edit(project,'customer')" nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
    <div class="container_text">
        <div class="container_text__title">{{'project.cus' | translate | uppercase}}</div>
        <div class="container_text__text" [innerHTML]="project.customer"></div>
    </div>
 </div>
 <div nz-col nzLg="3" nzMd="12" nzSm="24" nzXs="24">
  @if (update) {<button (click)="edit(project,'time')" nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
    <div class="container_text">
        <div class="container_text__title">{{'project.time' | translate | uppercase}}</div>
        <div class="container_text__text">{{project.time}}</div>
    </div>
 </div>
 <div nz-col nzLg="3" nzMd="12" nzSm="24" nzXs="24">
  @if (update) {<button (click)="edit(project,'no')" nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
  <div class="container_text">
      <div class="container_text__title">{{'project.num' | translate | uppercase}}</div>
      <div class="container_text__text">{{project.no}}</div>
  </div>
</div>
<div nz-col nzLg="3" nzMd="12" nzSm="24" nzXs="24">
  @if (update) {<button (click)="edit(project,'loc')" nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
  <div class="container_text">
      <div class="container_text__title">{{'project.loc' | translate | uppercase}}</div>
      <div class="container_text__text">{{project.loc}}</div>
  </div>
</div>

</div>

<div nz-row [nzGutter]="[50, 50]" class="main">
    <div nz-col nzSpan="24">
      @if (update) {<button nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
        @if(project.videoId) {
          <app-yt-player [videoID]="project.videoId"></app-yt-player>
        } @else if(project.google) {
          <iframe frameBorder="0" [src]="transform(project.google, 'resourceUrl')" width="100%" height="800" allow="autoplay"></iframe>
        }
        
    </div>

    @for (item of project.projectDetails; track $index) {
        <div nz-col [nzLg]="item.nzLg" [nzMd]="item.nzLg" [nzSm]="item.nzSm" [nzXs]="item.nzXs">
            @if (item.detailType === 'img') {
              @if (update) {<button nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
                <div class="pj_img">
                    <img class="w100 h100" [src]="item.url">
                </div>

            }@else if (item.detailType === 'video') {
              @if (update) {<button nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
              <div class="pj_img">
                <video width="100%" height="100%" controls>
                  <source [src]="item.url" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
            </div>
            }    
             @else if (item.detailType === 'title') {
              @if (update) {<button nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
                <div class="container_text w100 h100 flex_title">
                    <div class="container_text__title_sub padding" [innerHTML]="item.url"></div>
                </div>
            } @else {
              @if (update) {<button nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="outline"></span></button>}
                <div class="container_text padding">
                    <div class="container_text__text_content" [innerHTML]="item.url"></div>
                </div>
            }
        </div>
    }

</div>

<div nz-row [nzGutter]="[32, 50]" class="main content-card title_text">
    <div nz-col nzLg="16">
      <div class="content">
          <div class="title_main">{{'project.d' | translate}}</div>
      </div>
    </div>
    <div nz-col nzLg="8" nz-flex  [nzJustify]="'flex-end'" [nzAlign]="'flex-end'" class="w100">
      <div class="100w">
        <img src="/assest/image/arr_right.png" (click)="goToNextPage()">
      </div>
    
    </div>
    <div nz-col nzLg="24">
        <nz-carousel [nzDotPosition]="dotPosition" (nzAfterChange)="changePage($event)" #cs class="content-card">
          @for (index of array; track index) {
            <div nz-carousel-content>
              <div nz-row [nzGutter]="[32, 32]" > 
              @for (item of showItem[index]; track item) {
  
                  <div nz-col [nzSpan]="nzSpan" class="card" (click)="changeToProjectDetail(item.id)">
                    <div>
                        <img [src]="item.url" class="img_inner" (click)="changeToProjectDetail(item.id)">
                    </div>
                    <div class="container_text__title_sub">{{item.name |  uppercase}}</div>
                  </div>
              }
            </div>
            </div>
          }
        </nz-carousel>
  
    </div>
  </div>
  
